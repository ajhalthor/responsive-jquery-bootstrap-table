<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"> 
<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script> 
<!-- Latest compiled JavaScript -->
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script type="text/javascript">
		/* 
		* These are the only parameters you will need to modify in the entire project.
		* You dont need to touch the rest of the project
		*/

		var heading ="Rate Professor X";

		var caption = "Professor X rating";

		//List of fields in your checklist
		var fields = ['Command On the Subject','Ability to Explain','Practical Exposure','Dress Code	','Disciplinary Insistence','Involvement in Project work','Social Attitudes','Rating As A Teacher','Language Capability','Ability To Create Interest','Punctuality','Availability for Students','Knowledge of recent Technological Advancement','My Amazing Field','Another Field'];

		//Heading of the fields
		var fields_heading = "Competency";

		/* an array of arrays in which each sub array has 3 fields:
			- Display on large devices ('Excellent','Very Good','Good','Fair','Poor')
			- Display on medium devices ('Ex','V.G','G','Avg','Poor')
			- Display on small devices ('5','4','3','2','1')
		*/
		var levels = [ ['Excellent','Ex','5'],['Very Good','V.G','4'],['Good','G','3'],['Fair','Avg','2'],['Poor','Poor','1'] ] ;

</script>
<link rel="stylesheet" type="text/css" href="style.css">
<!-- Navigation Bar -->
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span> 
      </button>
      <a class="navbar-brand" href="#">Ajay Halthor</a>
      <ul>
        <li class="navbar-brand mobile"><a href="#">
              <img src="img/default.gif" alt="profile photo" class="profile-photo img-structure img-rounded"/>
          </a></li>
        </ul>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav navbar-right navbar-inverse">
        <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">
            <span class="glyphicon glyphicon-cog"></span>  &nbsp;
            Settings <span class="caret"></span></a>
            <ul class="dropdown-menu animated fadeInDown">
              <li><a href="#" id="change-password-button">Change Password</a></li>
              <li><a href="#">Logout</a></li>
            </ul>
          </li>
          <li class="desktop"><a href="#">
              <img src="img/default.gif" id="profile-photo" alt="profile photo" class="profile-photo img-structure img-rounded"/>
          </a></li>
      </ul>
    </div>
  </div>
</nav> 

<!-- Main Page -->
<div class="container-fluid" id="form-container">

	<div class="row">

	<!-- Left Pane with category list-->
	<div  class="col-xs-12 col-sm-12 col-md-3 col-lg-3  form-navigation" id="form-left-navigation">
		<ul style="padding-left:0px;">
			<a class="navigation-item is-active" href="#" style="display:block;">
				<li>
					<div class="numberCircle active-numberCircle" style="float:left;max-height:30px;"><span style="position:relative;bottom:5px;"> 1 </span></div>
					&nbsp;&nbsp;&nbsp;<span> Category 1 </span>
				</li>
			</a>
			
			<a class="navigation-item"  href="#" style="display:block;">
				<li >
				<div class="numberCircle" style="float:left"><span style="position:relative;bottom:5px;"> 2 </span></div>
				&nbsp;&nbsp;&nbsp;<span> Category 2 </span>
				</li>
			</a>
			
		
			<a class="navigation-item"  href="#" style="display:block;">
				<li >
				<div class="numberCircle" style="float:left"><span style="position:relative;bottom:5px;"> 3 </span></div>
				&nbsp;&nbsp;&nbsp;<span> Category 3 </span>
				</li>
			</a>
			
		
			<a class="navigation-item" href="#" style="display:block;">
				<li >
				<div class="numberCircle" style="float:left"><span style="position:relative;bottom:5px;"> 4 </span></div>
				&nbsp;&nbsp;&nbsp;<span> Category 4 </span>
				</li>
			</a>

		
		
			<a class="navigation-item"  href="#" style="display:block;">
				<li >
				<div class="numberCircle" style="float:left"><span style="position:relative;bottom:5px;"> 5 </span></div>
				&nbsp;&nbsp;&nbsp;<span> Category 5 </span>
			    </li>
			</a>

			<a  class="navigation-item"  href="#" style="display:block;">
				<li>
				<div class="numberCircle" style="float:left"><span style="position:relative;bottom:5px;"> 6 </span></div>
				&nbsp;&nbsp;&nbsp;<span> Category 6 </span>
				</li>
			</a>
		</ul>

		 <div class="progress">
    		<div class="progress-bar  background-green" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width:70%">
      			<span class="sr-only">0% Complete</span>
    		</div>
  		</div>

	</div>

	<!-- Right pane consisting of main table-->

	<!--  DO NOT CHANGE ANTHING FROM THIS POINT ONWARDS -->
	<div class="col-xs-12 col-sm-12 col-md-9 col-lg-9 " id="form-content" style="display:block;">

		<script>document.write('<h3>'+ heading +'</h3>')</script>

		<table width="100%" class='table table-striped table-bordered'>
		<script>document.write('<caption>'+ caption +'</caption>')</script>
		
		<thead>
			<tr id="main-table-headings">
				<script>
					document.write('<th>'+fields_heading+'</th>');
					for(i=0;i<levels.length;i++){document.write('<th>'+levels[i][0]+'</th>')}
				</script>
			</tr>

			<tr id="mobile-table-headings" class="is-hidden">
				<script>
					document.write('<th>'+fields_heading+'</th>');
					for(i=0;i<levels.length;i++){document.write('<th>'+levels[i][1]+'</th>')}
				</script>
			</tr>

			<tr id="tiny-mobile-table-headings" class="is-hidden">
				<script>
					document.write('<th>'+fields_heading+'</th>');
					for(i=0;i<levels.length;i++){document.write('<th>'+levels[i][2]+'</th>')}
				</script>
			</tr>
		</thead>

		<tbody>

			<script type="text/javascript">
				for(j=0;j<fields.length;j++){
					var field = fields[j];
					var field_name = field.trim().toLowerCase().replace(/ /g,'-');
					document.write('<tr id="'+field_name+'"> <td>'+ field +'</td>');

					for(i=5;i>0;i--){ 
						document.write('<td> <label class="radio-inline"> <input type="radio" name="'+field_name+'" value="'+i+'"> <span class="glyphicon glyphicon-ok glyphicon-validation is-invisible"></span></label> </td>');
			 		}

					document.write('</tr>');
				}
			</script>

		</tbody>
		</table>


		<h3>Comments</h3>
		 <form role="form">
		    <div class="form-group" style="width:100%">
		      <label for="comment"></label>
		      <textarea class="form-control" placeholder="Your Thoughts" rows="5" id="comment"></textarea>
		    </div>
		  </form>


		 	<div id="nav-buttons">
				<button type="button" class="btn btn-success pull-right submit-btn background-green">
					Submit
				</button>
				<span id="error-message" class="pull-right"> </span> 
			</div>

		<script>



		/*For the mobile view of the headings*/
		$(window).on('resize',function(){

			windowWidth = window.innerWidth;
			if(windowWidth > 768){
				$('#mobile-table-headings').addClass('is-hidden');
				$('#tiny-mobile-table-headings').addClass('is-hidden');
				$('#main-table-headings').removeClass('is-hidden');
				$('.glyphicon-ok').removeClass('is-hidden');
			}else{
				$('#main-table-headings').addClass('is-hidden');

				if(windowWidth > 400){
					$('#mobile-table-headings').removeClass('is-hidden');
					$('#tiny-mobile-table-headings').addClass('is-hidden');
				}else{
					$('#tiny-mobile-table-headings').removeClass('is-hidden');
					$('#mobile-table-headings').addClass('is-hidden');
				}

				$('.glyphicon-ok').addClass('is-hidden');

			}
		});
		/*To make sure the table headings are displayed correctly as soon as the page is loaded.*/
		$(window).trigger('resize');

		/* To toggle the 'check' symbol for various radio buttons*/
		$("input[type='radio']").on('change',function(){
				switch($(this).val()){
					case '1':  
						$(this).siblings().removeClass('is-invisible'); 
						$(this).siblings().addClass('red');break;
					case '2':  
						$(this).siblings().removeClass('is-invisible'); 
						$(this).siblings().addClass('orange');break;
					case '3':  
						$(this).siblings().removeClass('is-invisible'); 
						$(this).siblings().addClass('orange-yellow');break;
					case '4': 
						$(this).siblings().removeClass('is-invisible'); 
						$(this).siblings().addClass('dark-green');break;
					case '5': 
						$(this).siblings().removeClass('is-invisible'); 
						$(this).siblings().addClass('green');break;
					 break;
					default : /* Nothing to see here :P*/;
				}

				/*Uncheck the other check that was previously clicked*/
				$(this).parent().parent().siblings().find('.glyphicon-ok').addClass('is-invisible');
		});

		/*To change the pointer of the td consisting of the radio button*/
		$("input[type='radio']").parent().parent().css('cursor','pointer');

		/*to trigger the click of the radio so that we can click anywhere in the box*/
		$('td').on('click',function(){
			//To set the radio button to 'checked'
			$(this).find("input[type='radio']").prop('checked',true);
			$(this).find("input[type='radio']").trigger('change');

			if($(this).parent().attr('data-valid') == 'false' && $(this).has('input:radio').length){
				$(this).parent().attr('data-valid',true);
				$(this).parent().removeClass('invalid-field');
				$(this).parent().addClass('valid-field');
			}
		});

		/*Validation of radio buttons*/
		$('.submit-btn').on('click',function(){
			var invalid_fields = 0;
			$('tbody tr').each(function(){
					var field = $(this).attr('id');
					var value_variable = field.replace(/ /g,'_');
					if(!$('input[name='+ field +']:checked').val()){
						$('#' + field).addClass('invalid-field');
						$('#' + field).removeClass('valid-field');
						$('#' + field).attr('data-valid',false);
						invalid_fields++;
						return;
					} else{
						value_variable = $('input[name=' + field+ ']:checked').val();
						$('#'+field+' td').first().removeClass('invalid-field');
						$('#'+field+' td').first().addClass('valid-field');
						$('#' + field).attr('data-valid', true);
					}
					console.log(field + "  " + value_variable);
			});

			if(invalid_fields){
				$('#error-message').text('Please fill in all the fields ');
			}else{
				$('#error-message').text('');
			}
		});

		</script>
	</div>
	</div>

</div>
